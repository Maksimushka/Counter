(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,a){e.exports={SetCounter:"SettingCounter_SetCounter__11IY0",buttons:"SettingCounter_buttons__3ikPq"}},11:function(e,t,a){e.exports={button:"Button_button__2YtLE"}},14:function(e,t,a){e.exports={counter:"Counter_counter__2VF4c",buttons:"Counter_buttons__20GDR"}},21:function(e,t,a){},22:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),u=a(6),s=a.n(u),l=(a(21),a(22),a(10)),o=a.n(l),i=a(11),b=a.n(i);function j(e){return Object(n.jsx)("div",{className:b.a.buttons,children:Object(n.jsx)("button",{disabled:e.disable,onClick:function(){e.onChangeCount()},className:b.a.button,children:e.children})})}var O=a(4),_=a.n(O);function p(e){var t=e.setSetting,a=e.changeMaxValue,r=e.changeStartValue,c=e.error,u=e.maxValue,s=e.startValue;function l(){t()}return Object(n.jsxs)("div",{className:_.a.display,children:[Object(n.jsxs)("div",{className:_.a.max,children:[Object(n.jsx)("span",{children:"max value:"}),Object(n.jsx)("input",{className:c&&_.a.error,type:"number",onFocus:l,value:u,onChange:function(e){var t=e.currentTarget.valueAsNumber;a(t)}})]}),Object(n.jsxs)("div",{className:_.a.start,children:[Object(n.jsx)("span",{children:"start value:"}),Object(n.jsx)("input",{className:c&&_.a.error,onFocus:l,value:s,type:"number",onChange:function(e){var t=JSON.parse(e.currentTarget.value);r(t)}})]})]})}var d=function(e){return{type:"SET_START_VALUE",value:e}},E=function(e){return{type:"SET_MAX_VALUE",value:e}},S=function(e){return{type:"SET_IS_COUNT",value:e}},x=a(3),f=function(){var e=Object(x.c)((function(e){return e})),t=e.startValue,a=e.maxValue,c=e.isCount,u=e.error,s=Object(x.b)(),l=c||!!u,i=Object(r.useCallback)((function(){return s(S(!1))}),[s]),b=Object(r.useCallback)((function(){return s(S(!0))}),[s]),O=Object(r.useCallback)((function(e){e<0||e<=t?(s({type:"SET_ERROR"}),s(E(e))):(s(E(e)),s({type:"DELETE_ERROR"}))}),[s,t]),_=Object(r.useCallback)((function(e){e<0||e>=a?(s({type:"SET_ERROR"}),s(d(e))):(s(d(e)),s({type:"DELETE_ERROR"}))}),[s,a]);return Object(n.jsxs)("div",{className:o.a.SetCounter,children:[Object(n.jsx)(p,{setSetting:i,changeMaxValue:O,changeStartValue:_,maxValue:a,startValue:t,error:u}),Object(n.jsx)("div",{className:o.a.buttons,children:Object(n.jsx)(j,{onChangeCount:b,disable:l,children:"set"})})]})},h=a(14),v=a.n(h),V=a(5),C=a.n(V);function g(e){var t=e.counterTop,a=e.error,r=e.countValue,c="".concat(C.a.display," ").concat(a?C.a.displayError:""),u="".concat(C.a.SPAN," ").concat(t?C.a.full:"");return Object(n.jsx)("div",{className:c,children:a?Object(n.jsx)("span",{className:C.a.SPAN,children:a}):Object(n.jsx)("span",{className:u,children:r})})}var m=function(){var e=Object(x.c)((function(e){return e})),t=e.isCount,a=e.error,c=e.maxValue,u=e.counterValue,s=e.startValue,l=Object(x.b)(),o=Object(r.useCallback)((function(){return l({type:"INCREASE_COUNT_VALUE"})}),[l]),i=Object(r.useCallback)((function(){return l({type:"RESET_COUNT_VALUE"})}),[l]),b=!t||u===c,O=!t||u===s,_=u===c;return Object(n.jsxs)("div",{className:v.a.counter,children:[Object(n.jsx)(g,{counterTop:_,error:a,countValue:t?u:"PRESS BUTTON SET"}),Object(n.jsxs)("div",{className:v.a.buttons,children:[Object(n.jsx)(j,{onChangeCount:o,disable:b,children:"inc"}),Object(n.jsx)(j,{onChangeCount:i,disable:O,children:"reset"})]})]})};var T=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(f,{}),Object(n.jsx)(m,{})]})},y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,30)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,u=t.getTTFB;a(e),n(e),r(e),c(e),u(e)}))},N=a(7),R=a(2),A={startValue:0,maxValue:5,counterValue:0,error:"",isCount:!1},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_START_VALUE":return Object(R.a)(Object(R.a)({},e),{},{startValue:t.value,counterValue:t.value});case"SET_MAX_VALUE":return Object(R.a)(Object(R.a)({},e),{},{maxValue:t.value});case"INCREASE_COUNT_VALUE":return Object(R.a)(Object(R.a)({},e),{},{counterValue:e.counterValue+=1});case"RESET_COUNT_VALUE":return Object(R.a)(Object(R.a)({},e),{},{counterValue:e.startValue});case"SET_IS_COUNT":return Object(R.a)(Object(R.a)({},e),{},{isCount:t.value});case"SET_ERROR":return Object(R.a)(Object(R.a)({},e),{},{error:"Incorrect value"});case"DELETE_ERROR":return Object(R.a)(Object(R.a)({},e),{},{error:""});case"SET_VALUE_FROM_LOCAL_STORAGE":return Object(R.a)({},e);default:return e}},U=Object(N.b)(L,function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}());U.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){}}({startValue:U.getState().startValue,maxValue:U.getState().maxValue,counterValue:U.getState().startValue,error:U.getState().error})}));var D=U;s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(x.a,{store:D,children:Object(n.jsx)(T,{})})}),document.getElementById("root")),y()},4:function(e,t,a){e.exports={display:"SettingDisplay_display__1YMhz",max:"SettingDisplay_max__2K7r-",start:"SettingDisplay_start__2uDoW",error:"SettingDisplay_error__3PKTL"}},5:function(e,t,a){e.exports={display:"Display_display__36qOp",SPAN:"Display_SPAN__1BokX",full:"Display_full__1m0OO",displayError:"Display_displayError__3DO-g"}}},[[29,1,2]]]);
//# sourceMappingURL=main.682e83b6.chunk.js.map